!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("ng-code-verification",["exports","@angular/core","@angular/forms","@angular/platform-browser"],t):t((e=e||self)["ng-code-verification"]={},e.ng.core,e.ng.forms,e.ng.platformBrowser)}(this,(function(e,t,o,r){"use strict";var n=function(){function e(){this.pFormControl=new o.FormControl("",o.Validators.required),this.pId="field_"+e.numberSeq,e.numberSeq++,console.log("static varibale",e.numberSeq)}return Object.defineProperty(e.prototype,"error",{get:function(){return this.pError},set:function(e){this.pError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formControl",{get:function(){return this.pFormControl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.pValue},set:function(e){this.pValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.pId},enumerable:!1,configurable:!0}),e}();n.numberSeq=1;var i=function(){function e(e){this.index=0,this.el=Array.from({length:e},(function(){return new n}))}return e.prototype.next=function(e){var t=parseInt(e.srcElement.id.split("_")[1],0);this.el[t-1].value=e.target.value;var o=t<this.el.length?t+1:this.el.length,r=document.getElementById("field_"+o);r.focus(),o<this.el.length&&(r.value="")},e.prototype.getArrayCodes=function(){return this.el.map((function(e){return e.value?e.value.toString():""}))},e.prototype.getCode=function(){return this.getArrayCodes().join("")},e.prototype.validCodes=function(){var e=this,t=this.el.map((function(e){return!!e.value})),o=!0;return t.forEach((function(t,r){t?e.setError(r+1,!1):(e.setError(r+1,!0),o=!1)})),o},e.prototype.setError=function(e,t){this.el[e-1].error=t},e}(),s=function(){function e(){this.codeComplete=new t.EventEmitter,this.codeTotal=0}return e.prototype.ngOnInit=function(){this.codes=new i(this.codeTotal)},e.prototype.onInput=function(e){this.codes.next(e),this.onCodeCompleted(),this.checkIfLast(e)&&this.onCodeCompleted()},e.prototype.checkIfLast=function(e){return parseInt(e.srcElement.id.split("_")[1],0)>=this.codes.el.length},e.prototype.onCodeCompleted=function(){this.codeComplete.emit({code:this.codes.getCode(),valid:this.codes.validCodes()})},e}();s.decorators=[{type:t.Component,args:[{selector:"ng-code-verification",template:'\n    <div #formCode>\n      <input\n        type="text"\n        maxlength="1"\n        class="codeInput"\n        *ngFor="let codeTemp of codes.el"\n        [formControl]="codeTemp.formControl"\n        [id]="codeTemp.id"\n        (input)="onInput($event)"\n        [class.is-invalid]="codeTemp.error"\n        maxlength="1"\n      />\n    </div>\n  ',styles:[".codeInput{border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:70px;height:60px;margin:5px;padding:15px;text-align:center;width:40px}.is-invalid{border:2px solid red}"]}]}],s.ctorParameters=function(){return[]},s.propDecorators={formCode:[{type:t.ViewChildren,args:["formCode"]}],codeComplete:[{type:t.Output}],codeTotal:[{type:t.Input}]};var u=function(){};u.decorators=[{type:t.NgModule,args:[{declarations:[s],imports:[r.BrowserModule],exports:[s]}]}],e.NgCodeVerificationComponent=s,e.NgCodeVerificationModule=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-code-verification.umd.min.js.map